{{define "title"}}Waiver Audit{{end}}

{{define "content"}}
<div class="content-container">
    <h2>Commissioner Waiver Audit</h2>
    <p style="color: #666; margin-bottom: 20px;">All players currently on waivers across all leagues.</p>

    {{if .WaiverPlayers}}
    <table class="fantasy-table-base">
        <thead>
            <tr>
                <th>Player</th>
                <th>League</th>
                <th>Waiving Team</th>
                <th>Time Remaining</th>
                <th>Claiming Teams</th>
            </tr>
        </thead>
        <tbody>
            {{range .WaiverPlayers}}
            <tr>
                <td><a href="/player/{{.ID}}"><strong>{{.FirstName}} {{.LastName}}</strong></a> <span style="color: #888; font-size: 0.85rem;">({{.Position}})</span></td>
                <td>{{.LeagueName}}</td>
                <td>{{.WaivingTeamName}}</td>
                <td>
                    {{if .IsExpired}}
                        <span style="color: var(--fod-orange-accent); font-weight: bold;">Processing...</span>
                    {{else}}
                        <span style="color: #28a745; font-weight: bold;">{{.TimeRemaining}}</span>
                    {{end}}
                </td>
                <td>
                    {{if .ClaimingTeams}}
                        {{range .ClaimingTeams}}<span class="claim-badge">{{.}}</span> {{end}}
                    {{else}}
                        <span style="color: #999;">No claims</span>
                    {{end}}
                </td>
            </tr>
            {{end}}
        </tbody>
    </table>
    {{else}}
    <div style="padding: 40px; background: #f9f9f9; border-radius: 12px; text-align: center; border: 2px dashed #ddd;">
        <p style="font-size: 1.1rem; color: #888; margin: 0;">No players are currently on waivers.</p>
    </div>
    {{end}}
</div>

<style>
    .claim-badge { display: inline-block; background: var(--fod-blue-primary); color: white; padding: 2px 8px; border-radius: 4px; font-size: 0.8rem; font-weight: bold; margin: 2px; }
</style>
{{end}}
