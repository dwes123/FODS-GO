{{define "title"}}Bid Calculator{{end}}

{{define "content"}}
<div class="content-container" style="max-width: 600px;">
    <h2>Free Agent Bid Calculator</h2>
    <p style="color: #666; margin-bottom: 20px;">Calculate your bid points before placing an offer. Bid points = (Years x AAV x Multiplier) / 1,000,000.</p>

    <div class="calculator-card">
        <div class="calc-field">
            <label for="bid-years">Contract Length:</label>
            <select id="bid-years">
                <option value="1" data-multiplier="2.0">1 Year (2.0x multiplier)</option>
                <option value="2" data-multiplier="1.8">2 Years (1.8x multiplier)</option>
                <option value="3" data-multiplier="1.6">3 Years (1.6x multiplier)</option>
                <option value="4" data-multiplier="1.4">4 Years (1.4x multiplier)</option>
                <option value="5" data-multiplier="1.2">5 Years (1.2x multiplier)</option>
            </select>
        </div>

        <div class="calc-field">
            <label for="bid-aav">AAV (Annual Average Value):</label>
            <div style="position: relative;">
                <span style="position: absolute; left: 12px; top: 50%; transform: translateY(-50%); color: #666; font-weight: bold;">$</span>
                <input type="number" id="bid-aav" placeholder="e.g. 5000000" min="1000000" step="100000" style="padding-left: 25px;">
            </div>
            <small style="color: #999;">Minimum $1,000,000</small>
        </div>

        <div class="calc-results">
            <div class="result-row">
                <span>Total Contract Value:</span>
                <strong id="total-value">$0</strong>
            </div>
            <div class="result-row">
                <span>Multiplier:</span>
                <strong id="multiplier-display">2.0x</strong>
            </div>
            <div class="result-row result-highlight">
                <span>Total Bid Points:</span>
                <strong id="bid-points" style="font-size: 1.4rem;">0.00</strong>
            </div>
        </div>

        <div class="calc-note">
            <strong>Minimum bid:</strong> 1.0 bid point
        </div>
    </div>

    <div class="multiplier-reference" style="margin-top: 30px;">
        <h3>Multiplier Reference</h3>
        <table class="fantasy-table-base">
            <thead>
                <tr><th>Years</th><th>Multiplier</th><th>Example ($5M AAV)</th></tr>
            </thead>
            <tbody>
                <tr><td>1</td><td>2.0x</td><td>10.00 pts</td></tr>
                <tr><td>2</td><td>1.8x</td><td>18.00 pts</td></tr>
                <tr><td>3</td><td>1.6x</td><td>24.00 pts</td></tr>
                <tr><td>4</td><td>1.4x</td><td>28.00 pts</td></tr>
                <tr><td>5</td><td>1.2x</td><td>30.00 pts</td></tr>
            </tbody>
        </table>
    </div>
</div>

<style>
    .calculator-card { background: white; border: 1px solid #ddd; border-radius: 10px; padding: 25px; box-shadow: 0 2px 10px rgba(0,0,0,0.05); }
    .calc-field { margin-bottom: 20px; }
    .calc-field label { display: block; font-weight: bold; margin-bottom: 6px; font-size: 0.95rem; }
    .calc-field select, .calc-field input { width: 100%; padding: 10px 12px; border: 1px solid #ccc; border-radius: 6px; font-size: 1rem; }
    .calc-results { background: #f8f9fa; border-radius: 8px; padding: 20px; margin-top: 20px; }
    .result-row { display: flex; justify-content: space-between; align-items: center; padding: 8px 0; border-bottom: 1px solid #eee; }
    .result-row:last-child { border-bottom: none; }
    .result-highlight { background: var(--fod-blue-primary); color: white; margin: 10px -20px -20px; padding: 15px 20px; border-radius: 0 0 8px 8px; }
    .result-highlight strong { color: white; }
    .calc-note { margin-top: 15px; padding: 10px 15px; background: #fff3cd; border: 1px solid #ffc107; border-radius: 6px; font-size: 0.9rem; }
</style>

<script>
(function() {
    var yearsEl = document.getElementById('bid-years');
    var aavEl = document.getElementById('bid-aav');
    var totalValueEl = document.getElementById('total-value');
    var multiplierEl = document.getElementById('multiplier-display');
    var bidPointsEl = document.getElementById('bid-points');

    function calculate() {
        var years = parseInt(yearsEl.value) || 0;
        var aav = parseFloat(aavEl.value) || 0;
        var selected = yearsEl.options[yearsEl.selectedIndex];
        var multiplier = parseFloat(selected.getAttribute('data-multiplier')) || 0;

        var totalValue = years * aav;
        var bidPoints = (years * aav * multiplier) / 1000000;

        totalValueEl.textContent = '$' + totalValue.toLocaleString();
        multiplierEl.textContent = multiplier.toFixed(1) + 'x';
        bidPointsEl.textContent = bidPoints.toFixed(2);
    }

    yearsEl.addEventListener('change', calculate);
    aavEl.addEventListener('input', calculate);
    calculate();
})();
</script>
{{end}}
