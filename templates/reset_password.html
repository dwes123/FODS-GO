{{define "title"}}Reset Password{{end}}

{{define "content"}}
<div class="auth-container">
    <h2>Reset Password</h2>

    {{if .Error}}
    <div style="background: #f8d7da; border: 1px solid #f5c6cb; color: #721c24; padding: 15px; border-radius: 8px; margin-bottom: 15px;">
        {{.Error}}
    </div>
    {{if not .Token}}
    <p><a href="/forgot-password">Request a new reset link</a></p>
    {{end}}
    {{end}}

    {{if .Token}}
    <form action="/reset-password" method="POST">
        <input type="hidden" name="token" value="{{.Token}}">
        <div class="form-group">
            <label for="new_password">New Password:</label>
            <input type="password" id="new_password" name="new_password" required minlength="6">
        </div>
        <div class="form-group">
            <label for="confirm_password">Confirm Password:</label>
            <input type="password" id="confirm_password" name="confirm_password" required minlength="6">
        </div>
        <button type="submit" class="button">Set New Password</button>
    </form>
    {{end}}

    <p><a href="/login">Back to Login</a></p>
</div>

<style>
    .auth-container { max-width: 400px; margin: 0 auto; padding: 20px; border: 1px solid #ddd; border-radius: 8px; background: white; }
    .form-group { margin-bottom: 15px; }
    .form-group label { display: block; margin-bottom: 5px; font-weight: bold; }
    .form-group input { width: 100%; padding: 8px; border: 1px solid #ccc; border-radius: 4px; box-sizing: border-box; }
</style>
{{end}}
